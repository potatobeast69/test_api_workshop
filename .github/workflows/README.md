# üöÄ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Code Review Workflow

## ‚ö° –ì–ª–∞–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ë—ã–ª–æ (—Å—Ç–∞—Ä—ã–π workflow):
- ‚ùå –ó–∞–ø—É—Å–∫–∞–ª—Å—è –Ω–∞ **–∫–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç** (push/PR)
- ‚ùå –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: **~20 –º–∏–Ω—É—Ç**
- ‚ùå –°–±–æ—Ä–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: **15-17 –º–∏–Ω—É—Ç**
- ‚ùå –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞: **3-5 –º–∏–Ω—É—Ç**
- ‚ùå 6 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö jobs

### –°—Ç–∞–ª–æ (–Ω–æ–≤—ã–π workflow):
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø–æ –∫–æ–º–∞–Ω–¥–µ —Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**
- ‚úÖ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: **60-90 —Å–µ–∫—É–Ω–¥**
- ‚úÖ –ì–æ—Ç–æ–≤—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è –∑–∞ **3-5 —Å–µ–∫—É–Ω–¥**
- ‚úÖ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —É–±—Ä–∞–Ω–∞
- ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ 1 job

**–≠–∫–æ–Ω–æ–º–∏—è: ~18-19 –º–∏–Ω—É—Ç –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫!**

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

### 1. –ó–∞–º–µ–Ω–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.github/workflows/code-review.yml` –∏ –Ω–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é:

```yaml
- name: üì¶ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
  run: |
    # –ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–®–ò –†–ï–ê–õ–¨–ù–´–ï –°–°–´–õ–ö–ò:
    curl -L "https://cloud.tstservice.tech/public.php/dav/files/1" -o tools/swift-style-check
    curl -L "https://cloud.tstservice.tech/public.php/dav/files/2" -o tools/swift-dead-code
    curl -L "https://cloud.tstservice.tech/public.php/dav/files/3" -o tools/swift-memory-check
```

**–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ –Ω–∞—Å—Ç–æ—è—â–∏–µ —Å—Å—ã–ª–∫–∏:**
- `files/1` ‚Üí —Å—Å—ã–ª–∫–∞ –Ω–∞ `swift-style-check`
- `files/2` ‚Üí —Å—Å—ã–ª–∫–∞ –Ω–∞ `swift-dead-code`
- `files/3` ‚Üí —Å—Å—ã–ª–∫–∞ –Ω–∞ `swift-memory-check`

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Secrets

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Secrets and variables ‚Üí Actions** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

| Secret Name | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
|------------|----------|-----------------|
| `BACKEND_URL` | URL –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤ | `https://api.yourserver.com/code-review` |
| `BACKEND_TOKEN` | –¢–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è backend | `Bearer abc123xyz...` |

### 3. –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å workflows —Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

–£ –≤–∞—Å –µ—Å—Ç—å **2 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö workflow**:

#### a) Code Review (–±—ã—Å—Ç—Ä—ã–π, ~90 —Å–µ–∫)

–ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ –±–µ–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:

```bash
curl -X POST \
  -H "Accept: application/vnd.github+json" \
  -H "Authorization: Bearer YOUR_GITHUB_TOKEN" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  https://api.github.com/repos/OWNER/REPO/dispatches \
  -d '{
    "event_type": "code-review",
    "client_payload": {
      "branch": "main",
      "commit": "abc123",
      "triggered_by": "backend-server"
    }
  }'
```

#### b) Build Check (–º–µ–¥–ª–µ–Ω–Ω—ã–π, ~3-5 –º–∏–Ω)

–ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
curl -X POST \
  -H "Accept: application/vnd.github+json" \
  -H "Authorization: Bearer YOUR_GITHUB_TOKEN" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  https://api.github.com/repos/OWNER/REPO/dispatches \
  -d '{
    "event_type": "build-check",
    "client_payload": {
      "branch": "main",
      "commit": "abc123",
      "triggered_by": "backend-server"
    }
  }'
```

**–ó–∞–º–µ–Ω–∏—Ç–µ:**
- `YOUR_GITHUB_TOKEN` - Personal Access Token —Å –ø—Ä–∞–≤–∞–º–∏ `repo` ([—Å–æ–∑–¥–∞—Ç—å](https://github.com/settings/tokens))
- `OWNER/REPO` - –Ω–∞–ø—Ä–∏–º–µ—Ä `mycompany/ios-app`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `code-review` –Ω–∞ –∫–∞–∂–¥—ã–π PR/–≤–∞–∂–Ω—ã–π –∫–æ–º–º–∏—Ç
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `build-check` —Ä–µ–∂–µ: –ø–µ—Ä–µ–¥ –º–µ—Ä–∂–µ–º –≤ main, –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é, –∏–ª–∏ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ workflow:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. –í–∞—à —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç repository_dispatch event          ‚îÇ
‚îÇ    POST https://api.github.com/repos/OWNER/REPO/dispatches  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. GitHub Actions –∑–∞–ø—É—Å–∫–∞–µ—Ç workflow                        ‚îÇ
‚îÇ    - Checkout –∫–æ–¥–∞ (~5 —Å–µ–∫)                                 ‚îÇ
‚îÇ    - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ (~5 —Å–µ–∫)                 ‚îÇ
‚îÇ    - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SwiftLint + Periphery (~40 —Å–µ–∫)              ‚îÇ
‚îÇ    - –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (~30 —Å–µ–∫)             ‚îÇ
‚îÇ    - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ (~5 —Å–µ–∫)                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ –≤–∞—à backend                      ‚îÇ
‚îÇ    POST $BACKEND_URL                                        ‚îÇ
‚îÇ    {                                                        ‚îÇ
‚îÇ      "repository": "owner/repo",                            ‚îÇ
‚îÇ      "commit": "abc123",                                    ‚îÇ
‚îÇ      "reports": {                                           ‚îÇ
‚îÇ        "style": {...},                                      ‚îÇ
‚îÇ        "dead_code": {...},                                  ‚îÇ
‚îÇ        "memory": {...}                                      ‚îÇ
‚îÇ      }                                                      ‚îÇ
‚îÇ    }                                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```
00:00 - 00:05  ‚ñì‚ñì‚ñì‚ñì‚ñì  Checkout –∫–æ–¥–∞
00:05 - 00:10  ‚ñì‚ñì‚ñì‚ñì‚ñì  –°–∫–∞—á–∏–≤–∞–Ω–∏–µ 3 –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ (curl)
00:10 - 00:50  ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SwiftLint + Periphery
00:50 - 01:20  ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì  –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
01:20 - 01:25  ‚ñì‚ñì‚ñì‚ñì‚ñì  –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞
01:25 - 01:30  ‚ñì‚ñì‚ñì‚ñì‚ñì  –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ backend

–ò–¢–û–ì–û: ~90 —Å–µ–∫—É–Ω–¥
```

---

## üìä –§–æ—Ä–º–∞—Ç –æ—Ç—á–µ—Ç–∞

–í–∞—à backend –ø–æ–ª—É—á–∏—Ç JSON:

```json
{
  "repository": "owner/repo-name",
  "branch": "main",
  "commit": "abc123def456",
  "author": "username",
  "timestamp": "2025-01-22T10:30:00Z",
  "workflow_run_id": "123456789",
  "reports": {
    "style": {
      "summary": {
        "errors": 5,
        "warnings": 12
      },
      "files": [...]
    },
    "dead_code": {
      "summary": {
        "errors": 0,
        "warnings": 8,
        "infos": 3
      },
      "issues": [...]
    },
    "memory": {
      "summary": {
        "errors": 2,
        "warnings": 4,
        "infos": 1
      },
      "issues": [...]
    }
  }
}
```

---

## üîß –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å workflow –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ GitHub UI:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** ‚Üí **Code Review (Optimized)**
2. –ù–∞–∂–º–∏—Ç–µ **Run workflow**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ **Run workflow**

–≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–µ—Ä–µ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å backend.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ë—é–¥–∂–µ—Ç GitHub Actions

- **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**: –≤–∫–ª—é—á–µ–Ω–æ 2000 –º–∏–Ω—É—Ç/–º–µ—Å—è—Ü (Free tier)
- **–°—Ç–∞—Ä—ã–π workflow**: ~20 –º–∏–Ω √ó 50 –∫–æ–º–º–∏—Ç–æ–≤ = 1000 –º–∏–Ω—É—Ç
- **–ù–æ–≤—ã–π workflow**: ~1.5 –º–∏–Ω √ó –∑–∞–ø—É—Å–∫–∏ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é = —ç–∫–æ–Ω–æ–º–∏—è 90%+

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

Workflow –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è:
- –ë–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ (—Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –Ω–æ –±—ã—Å—Ç—Ä–æ)
- SwiftLint/Periphery (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑)

–≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –¥–ª—è:
- –ì–∞—Ä–∞–Ω—Ç–∏–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –ò–∑–±–µ–∂–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∏—Å–ø–æ—Ä—á–µ–Ω–Ω—ã–º –∫–µ—à–µ–º
- –ü—Ä–æ—Å—Ç–æ—Ç—ã workflow

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –µ—â–µ –±–æ–ª—å—à–µ —É—Å–∫–æ—Ä–∏—Ç—å - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ brew.

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç 100 —Å–µ–∫—É–Ω–¥?

–ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ SwiftLint + Periphery –∑–∞–Ω–∏–º–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:

**–í–∞—Ä–∏–∞–Ω—Ç 1**: –ó–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –∏—Ö
```yaml
- uses: actions/cache@v4
  with:
    path: /usr/local/bin/swiftlint
    key: swiftlint-${{ runner.os }}-0.54.0
```

**–í–∞—Ä–∏–∞–Ω—Ç 2**: –£–±—Ä–∞—Ç—å Periphery (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω)
```yaml
# –ü—Ä–æ—Å—Ç–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ü–∏—é —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Periphery
# –∏ —Å–µ–∫—Ü–∏—é dead-code-check
```

**–í–∞—Ä–∏–∞–Ω—Ç 3**: –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–≤–∫–ª—é—á–∞—è SwiftLint/Periphery) –≤ –æ–¥–∏–Ω –∞—Ä—Ö–∏–≤
```yaml
# –°–∫–∞—á–∞—Ç—å –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π –∞—Ä—Ö–∏–≤ —Å –í–°–ï–ú–ò –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
curl -L "https://your-cloud/all-tools.zip" -o tools.zip
unzip tools.zip -d /usr/local/bin/
```

---

## üéì –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å backend (Node.js)

```javascript
// server.js
const express = require('express');
const { Octokit } = require('@octokit/rest');

const app = express();
app.use(express.json());

const octokit = new Octokit({
  auth: process.env.GITHUB_TOKEN
});

// –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞ code review (–±—ã—Å—Ç—Ä—ã–π)
app.post('/trigger-code-review', async (req, res) => {
  const { owner, repo, branch } = req.body;

  try {
    await octokit.repos.createDispatchEvent({
      owner,
      repo,
      event_type: 'code-review',
      client_payload: {
        branch,
        triggered_by: 'backend-server'
      }
    });

    res.json({ success: true, message: 'Code review –∑–∞–ø—É—â–µ–Ω (~90 —Å–µ–∫)' });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞ build check (–º–µ–¥–ª–µ–Ω–Ω—ã–π)
app.post('/trigger-build-check', async (req, res) => {
  const { owner, repo, branch } = req.body;

  try {
    await octokit.repos.createDispatchEvent({
      owner,
      repo,
      event_type: 'build-check',
      client_payload: {
        branch,
        triggered_by: 'backend-server'
      }
    });

    res.json({ success: true, message: 'Build check –∑–∞–ø—É—â–µ–Ω (~3-5 –º–∏–Ω)' });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ code review
app.post('/code-review-results', async (req, res) => {
  const report = req.body;

  console.log('–ü–æ–ª—É—á–µ–Ω –æ—Ç—á–µ—Ç –¥–ª—è', report.repository);
  console.log('–û—à–∏–±–∫–∏ —Å—Ç–∏–ª—è:', report.reports.style.summary.errors);
  console.log('–ú–µ—Ä—Ç–≤—ã–π –∫–æ–¥:', report.reports.dead_code.summary.warnings);

  // –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –ë–î, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ —Ç.–¥.

  res.json({ success: true });
});

// –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ build check
app.post('/build-check-results', async (req, res) => {
  const report = req.body;

  console.log('–ü–æ–ª—É—á–µ–Ω build –æ—Ç—á–µ—Ç –¥–ª—è', report.repository);
  console.log('–°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏:', report.build_status);

  // –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –ë–î

  res.json({ success: true });
});

app.listen(3000);
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] –ó–∞–º–µ–Ω–∏–ª —Å—Å—ã–ª–∫–∏ –Ω–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –≤ workflow —Ñ–∞–π–ª–µ
- [ ] –î–æ–±–∞–≤–∏–ª `BACKEND_URL` –≤ GitHub Secrets
- [ ] –î–æ–±–∞–≤–∏–ª `BACKEND_TOKEN` –≤ GitHub Secrets
- [ ] –°–æ–∑–¥–∞–ª GitHub Personal Access Token –¥–ª—è repository_dispatch
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª backend –¥–ª—è –ø—Ä–∏–µ–º–∞ –æ—Ç—á–µ—Ç–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ GitHub UI
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ repository_dispatch API
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ –æ—Ç—á–µ—Ç—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–∞ backend

---

## üêõ Troubleshooting

### Workflow –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ repository_dispatch

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ:
- Personal Access Token –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ `repo`
- `event_type` –≤ –∑–∞–ø—Ä–æ—Å–µ —Ç–æ—á–Ω–æ `"code-review"`
- Workflow —Ñ–∞–π–ª –≤ –≤–µ—Ç–∫–µ `main` (–∏–ª–∏ —Ç–æ–π, –∫–æ—Ç–æ—Ä—É—é –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)

### –ë–∏–Ω–∞—Ä–Ω–∏–∫–∏ –Ω–µ —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –°—Å—ã–ª–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø—É–±–ª–∏—á–Ω–æ (–æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
- –ù–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –§–∞–π–ª—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±–∏–Ω–∞—Ä–Ω—ã–µ (–Ω–µ HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏)

–¢–µ—Å—Ç:
```bash
curl -I "https://your-link"
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: HTTP/2 200, Content-Type: application/octet-stream
```

### Backend –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç—á–µ—Ç—ã

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- `BACKEND_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- Endpoint –ø—Ä–∏–Ω–∏–º–∞–µ—Ç POST —Å Content-Type: application/json
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ workflow –≤ GitHub Actions

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –µ—â–µ –±—ã—Å—Ç—Ä–µ–µ (—Ü–µ–ª—å <60 —Å–µ–∫):

1. **–£–±—Ä–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ brew** - —Å–æ–±—Ä–∞—Ç—å SwiftLint –≤ –±–∏–Ω–∞—Ä–Ω–∏–∫
2. **–£–±—Ä–∞—Ç—å Periphery** - –µ—Å–ª–∏ dead code –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω
3. **Shallow clone** - —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (`fetch-depth: 1`)
4. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π download** - —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (3 curl –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)

–¢–µ–∫—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É–∂–µ –¥–∞–µ—Ç **18x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** (20 –º–∏–Ω ‚Üí 1.5 –º–∏–Ω), —á—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –±—é–¥–∂–µ—Ç–∞!
